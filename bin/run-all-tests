#!/usr/bin/env bash

set -o errexit
set -o pipefail

echo "Check format"
clj -M:format
echo "Running unit tests with hitchhiker-tree index"
bin/run-hht-tests --reporter kaocha.report/dots
echo "Running unit tests with persistent-set index"
bin/run-pss-tests --reporter kaocha.report/dots
echo "Running integration tests"
bin/run-integrationtests --reporter kaocha.report/dots
echo "Running backward compatibility tests"
bin/run-backward-compatibility-tests --reporter kaocha.report/dots
